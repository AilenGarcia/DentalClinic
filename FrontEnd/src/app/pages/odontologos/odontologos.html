<div class="container">
    <h1>Odont贸logos</h1>
    <p class="sub">Consulta nuestros odont贸logos disponibles.</p>
    
    @if (true) {
        <table class="tabla">
            <thead>
                <tr>
                    <th>Matr铆cula</th>
                    <th>Nombre</th>
                    <th>Email</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                @if(odontologosPaginados.length === 0){
                    <p>No se encuentran odont贸logos disponibles.</p>
                } @else {
                    @for (o of odontologosPaginados; track o.id) {
                        <tr>
                            <td>{{ (o.matricula)? o.matricula : 'No matriculado.' }}</td>
                            <td>{{ o.users.nombre }} {{ o.users.apellido }}</td>
                            <td>{{ o.users.email }}</td>
                            <td>
                                <button class="btn-ver" (click)="verFichaCompleta(o)">Ver Ficha Completa</button>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>

        <div class="paginacion">
            <button (click)="paginaAnterior()" [disabled]="currentPage === 1">Anterior</button>
            <span>P谩gina {{currentPage}} de {{totalPages}}</span>
            <button (click)="paginaSiguiente()" [disabled]="currentPage === totalPages">Siguiente</button>
        </div>  
    } @else {
        <div class="loading">
            <span class="spinner"></span> Cargando turnos...
        </div>
    }

    <!-- Modal de ficha del odont贸logo -->
@if (mostrarFicha && odontologoSeleccionado) {
    <div class="modal-overlay" (click)="cerrarFicha()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h2>Ficha del Odont贸logo</h2>
          <button class="btn-close" (click)="cerrarFicha()">&times;</button>
        </div>
  
        <div class="modal-body">
          <div class="detalle-section">
            <h3> Informaci贸n Personal</h3>
            <div class="detalle-row">
              <span class="detalle-label">Nombre completo:</span>
              <span class="detalle-value">
                {{ odontologoSeleccionado.users.nombre }} {{ odontologoSeleccionado.users.apellido }}
              </span>
            </div>
            <div class="detalle-row">
              <span class="detalle-label">Email:</span>
              <span class="detalle-value">{{ odontologoSeleccionado.users.email }}</span>
            </div>
            <div class="detalle-row">
              <span class="detalle-label">Tel茅fono:</span>
              <span class="detalle-value">{{ (odontologoSeleccionado.telefono)? odontologoSeleccionado.telefono : '-' }}</span>
            </div>
          </div>
  
          <div class="detalle-section">
            <h3>Ψ Informaci贸n Profesional</h3>
            <div class="detalle-row">
              <span class="detalle-label">Matr铆cula:</span>
              <span class="detalle-value">{{ (odontologoSeleccionado.matricula)? odontologoSeleccionado.matricula : '-'}}</span>
            </div>
            <div class="detalle-row">
              <span class="detalle-label">Especialidad:</span>
              <span class="detalle-value">{{ (odontologoSeleccionado.descripcion)? odontologoSeleccionado.descripcion : '-' }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  }
  
</div>
